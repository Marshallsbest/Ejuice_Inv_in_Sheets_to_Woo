<!DOCTYPE html>
<html lang="en-us">
  <head>
    <base target="_top">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://ssl.gstatic.com/docs/script/css/add-ons1.css">
    <style>
      form{
      padding: 20px;
      }
    </style>
    <script>
    // Prevent forms from submitting.
      function preventFormSubmit() {
        var forms = document.querySelectorAll('form');
          for (var i = 0; i < forms.length; i++) {
            forms[i].addEventListener('submit', function(event) {
            event.preventDefault();
          });
        }
      }
      window.addEventListener('load', preventFormSubmit);
    </script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  </head>
  <body>
    <div class = "sidebar">
      <form onSubmit="formSubmit(this)">
           <label for="url">Url in API Call</label><br>
        <input type="text" id="url" name="url" autofocus="autofocus"> <br>
        <label for="client">Client ID</label><br>
        <input type="text" id="client" name="client"><br>
        <label for="secret">Client Secret</label><br>
        <input type="text" id="secret" name="secret"><br>
        <label for="wooApi">Woo Api url (default:'/wp-json/wc/v3/')</label><br>
        <input type="text" id="wooApi" name="wooApi" default="/wp-json/wc/v3/">
       <input class="action" id="submit" type="submit" value="Submit">
      <button onclick="google.script.host.close()">Cancel</button>
    </form>
  </div>
</body>
    <!--JavaScript at end of body for optimized loading-->
<script>
    
function formSubmit(userObject){
  $("#submit").prop('disabled',true);
  google.script.run.withSuccessHandler(updateScreen).withFailureHandler(updateScreen).addCreds(userObject);
  }
    
function updateScreen(){
  google.script.host.close();
  }
    
</script>
</html>
